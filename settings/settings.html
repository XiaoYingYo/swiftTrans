<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title data-i18n="settingsTitle">瞬译设置</title>
    <link rel="stylesheet" href="settings.css" />
  </head>
  <body>
    <div class="container">
      <nav>
        <div role="tablist" aria-label="设置标签页">
          <button role="tab" aria-selected="true" aria-controls="general-panel" id="general-tab" data-i18n="tabGeneral">常规设置</button>
          <button role="tab" aria-selected="false" aria-controls="domains-panel" id="domains-tab" data-i18n="tabDomains">网站列表</button>
          <button role="tab" aria-selected="false" aria-controls="filters-panel" id="filters-tab" data-i18n="tabFilters">节点过滤器</button>
        </div>
      </nav>
      <div id="general-panel" role="tabpanel" tabindex="0" aria-labelledby="general-tab">
        <section>
          <h2 data-i18n="labelEngine">翻译引擎</h2>
          <label><input type="radio" name="engine" value="google" checked /> Google Translate</label>
          <label><input type="radio" name="engine" value="bing" /> Bing Translator</label>
        </section>
        <section>
          <h2 data-i18n="labelLanguage">目标语言</h2>
          <select id="targetLanguage">
            <option value="zh-CN">简体中文</option>
            <option value="zh-TW">繁體中文</option>
            <option value="en">English</option>
            <option value="ja">日本語</option>
            <option value="ko">한국어</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
            <option value="de">Deutsch</option>
            <option value="ru">Русский</option>
            <option value="pt">Português</option>
            <option value="it">Italiano</option>
            <option value="nl">Nederlands</option>
            <option value="pl">Polski</option>
            <option value="tr">Türkçe</option>
            <option value="ar">العربية</option>
            <option value="hi">हिन्दी</option>
            <option value="th">ไทย</option>
            <option value="vi">Tiếng Việt</option>
            <option value="id">Bahasa Indonesia</option>
            <option value="ms">Bahasa Melayu</option>
            <option value="sv">Svenska</option>
            <option value="da">Dansk</option>
            <option value="no">Norsk</option>
            <option value="fi">Suomi</option>
            <option value="cs">Čeština</option>
            <option value="hu">Magyar</option>
            <option value="ro">Română</option>
            <option value="uk">Українська</option>
            <option value="he">עברית</option>
            <option value="el">Ελληνικά</option>
          </select>
        </section>
        <section>
          <h2 data-i18n="labelCache">缓存管理</h2>
          <p><span data-i18n="labelCacheSize">缓存大小</span>: <span id="cacheSize" data-i18n="msgCalculating">计算中...</span></p>
          <button id="clearCacheBtn" data-i18n="btnClearCache">清除全部缓存</button>
        </section>
      </div>
      <div id="domains-panel" role="tabpanel" tabindex="0" aria-labelledby="domains-tab" hidden>
        <section>
          <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px">
            <h2 data-i18n="labelDomains" style="margin: 0">自动翻译网站</h2>
            <input type="text" id="domainFilter" data-i18n-placeholder="placeholderFilterDomain" style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box" />
            <button id="addCurrentBtn" data-i18n="btnAddCurrent">添加当前站点</button>
          </div>
          <div class="domain-list" id="domainList"></div>
          <div class="add-domain">
            <textarea id="newDomain" data-i18n-placeholder="placeholderDomain" placeholder="支持批量添加:&#10;1. 数组格式: ['domain1.com','domain2.com']&#10;2. 每行一个:&#10;domain1.com&#10;domain2.com" rows="4"></textarea>
            <button id="addDomainBtn" data-i18n="btnAdd">添加</button>
          </div>
        </section>
      </div>
      <div id="filters-panel" role="tabpanel" tabindex="0" aria-labelledby="filters-tab" hidden>
        <section>
          <h2 data-i18n="labelGlobalFilters">全局过滤规则</h2>
          <div class="add-domain">
            <textarea id="newGlobalFilter" data-i18n-placeholder="placeholderGlobalFilter" placeholder="输入全局选择器,每行一个" rows="3"></textarea>
            <button id="addGlobalFilterBtn" data-i18n="btnAdd">添加</button>
          </div>
          <div class="domain-list" id="globalFiltersList"></div>
        </section>
        <section>
          <h2 data-i18n="labelDomainFilters">域名特定规则</h2>
          <input type="text" id="domainForFilter" data-i18n-placeholder="placeholderDomainForFilter" placeholder="输入域名,如 www.google.com" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; margin-bottom: 10px;" />
          <div class="add-domain">
            <textarea id="newDomainFilter" data-i18n-placeholder="placeholderDomainFilter" placeholder="输入该域名的选择器, 每行一个" rows="3"></textarea>
            <div style="display: flex; gap: 10px;">
              <button id="addDomainFilterBtn" data-i18n="btnAddUpdate" style="flex: 1;">添加/更新</button>
              <button id="addDefaultRulesBtn" data-i18n="btnAddDefaultRules" style="flex: 1;">添加基本规则</button>
            </div>
          </div>
          <div class="domain-list" id="domainFiltersList"></div>
        </section>
      </div>
    </div>
    <script src="../lib/storage.js"></script>
    <script src="settings.js"></script>
  </body>
</html>
